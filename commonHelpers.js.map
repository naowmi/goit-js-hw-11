{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst API_KEY = \"41813550-341719f2cbf02751aeba3ddbd\";\nconst container = document.querySelector(\".gallery\")\nconst searchForm = document.querySelector(\".form\");\nconst loader = document.querySelector(\".loader\")\n//! SUBMIT FORM\nsearchForm.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n  const query = event.currentTarget.elements.query.value.trim();\n  try {\nif (query.length < 1) {\n        iziToast.info({\n            timeout: 5000,\n            title: \"Info\",\n            message: \"Insufficient number of characters. The minimum number of characters is 1\",\n            position: \"topRight\"\n        })\n    } else {\n        event.target.reset()\n      clearContainer()\n    loader.classList.add(\"is-hidden\")\n    const response =  await fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`);\n      const { hits } = await response.json();\n        loader.classList.remove(\"is-hidden\") \n         if (hits.length === 0) {\n        iziToast.info({\n            timeout: 5000,\n            title: \"Info\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\"\n        });\n         } else { \n           renderImgHTML(hits);\n            \n    }\n    }\n  } catch (error) {\n    iziToast.error({\n      timeout: 5000,\n      title: \"Error\",\n      message: \"An error occurred during processing. Please try again \",\n      position: \"topRight\"\n    })\n  }\n    \n})\n  let gallery =   new SimpleLightbox(\".gallery a\",{\n  captionDelay: 250, captionsData: \"alt\"\n})\n//! RENDER HTML\nconst renderImgHTML = (data) => {\n  container.innerHTML = data.reduce((acc, { webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n     return acc + `\n\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n\n      <div class=\"info-container\">\n        <p class=\"p-item\">Like <span class=\"span-item\">${likes}</span></p>\n        <p>Views <span class=\"span-item\">${views}</span></p>\n        <p>Comments <span class=\"span-item\">${comments}</span></p>\n        <p>Downloads <span class=\"span-item\">${downloads}</span></p>\n      </div>\n            </li>\n    `;\n  }, '');\ngallery.refresh()\n}\n\nconst clearContainer = () => {\n    container.innerHTML = \"\";\n    \n    \n}\n\n"],"names":["API_KEY","container","searchForm","loader","event","query","iziToast","clearContainer","response","hits","renderImgHTML","gallery","SimpleLightbox","data","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAIA,MAAMA,EAAU,qCACVC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAW,iBAAiB,SAAU,MAAOE,GAAU,CACnDA,EAAM,eAAc,EACtB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAAM,OACvD,GAAI,CACN,GAAIC,EAAM,OAAS,EACXC,EAAS,KAAK,CACV,QAAS,IACT,MAAO,OACP,QAAS,2EACT,SAAU,UACtB,CAAS,MACE,CACHF,EAAM,OAAO,MAAO,EACtBG,EAAgB,EAClBJ,EAAO,UAAU,IAAI,WAAW,EAChC,MAAMK,EAAY,MAAM,MAAM,gCAAgCR,OAAaK,2DAA+D,EAClI,CAAE,KAAAI,CAAM,EAAG,MAAMD,EAAS,KAAI,EAClCL,EAAO,UAAU,OAAO,WAAW,EAC9BM,EAAK,SAAW,EACrBH,EAAS,KAAK,CACV,QAAS,IACT,MAAO,OACP,QAAS,2EACT,SAAU,UACtB,CAAS,EAEEI,EAAcD,CAAI,CAGxB,CACF,MAAC,CACAH,EAAS,MAAM,CACb,QAAS,IACT,MAAO,QACP,QAAS,yDACT,SAAU,UAChB,CAAK,CACF,CAEH,CAAC,EACC,IAAIK,EAAY,IAAIC,EAAe,aAAa,CAChD,aAAc,IAAK,aAAc,KACnC,CAAC,EAED,MAAMF,EAAiBG,GAAS,CAC9BZ,EAAU,UAAYY,EAAK,OAAO,CAACC,EAAK,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACpGP,EAAM;AAAA;AAAA;AAAA,mBAGCE;AAAA,4CACyBD,WAAsBE;AAAA;AAAA;AAAA;AAAA,yDAITC;AAAA,2CACdC;AAAA,8CACGC;AAAA,+CACCC;AAAA;AAAA;AAAA,MAI1C,EAAE,EACPV,EAAQ,QAAS,CACjB,EAEMJ,EAAiB,IAAM,CACzBN,EAAU,UAAY,EAG1B"}